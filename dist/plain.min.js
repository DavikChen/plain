/**
 * This file is created by xingzheFE.
 * https://github.com/XingzheFE/
 * Wed Jul 12 2017 19:14:19 GMT+0800 (CST)
 */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Plain=n()}(this,function(){"use strict";function t(t,n,o,e){var r,i=arguments.length,a=i<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,o):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,o,e);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(n,o,a):r(n,o))||a);return i>3&&a&&Object.defineProperty(n,o,a),a}function n(t){t.prototype.on=function(t,n){var o=n.bind(this),e=this._original.on(t,o);return new s({eventName:t,host:this,listener:e,handler:o})},t.prototype.off=function(t){this._original.off(t.eventName,t.handler)}}function o(t){t.prototype.on=function(t,n){var o=n.bind(this),e=this._original.addEventListener(t,o);return new s({eventName:t,host:this,listener:e,handler:o})},t.prototype.off=function(t){this._original.removeEventListener(t.eventName,t.handler)}}function e(t,n){if("output"===n){if("DEFAULT"===a.coordType)return t;switch(a.coordType){case"DEFAULT":return t;case"GCJ02":return M.b2g(t);case"BD09":return t;case"WGS84":return M.b2w(t)}}else{if("DEFAULT"===a.coordType)return t;switch(a.coordType){case"DEFAULT":return t;case"GCJ02":return M.g2b(t);case"BD09":return t;case"WGS84":return M.w2b(t)}}}function r(t){t.prototype.on=function(t,n){var o=n.bind(this),e=this._original.addListener(t,o);return new s({eventName:t,host:this,listener:e,handler:o})},t.prototype.off=function(t){google.maps.event.removeListener(t.listener)}}function i(){return function(t,n,o){var e=o.value;o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var o=e.call(this,t);return o._id=Math.random().toString(16).substr(2),o}}}var a={DEBUG:!0,name:"plain",coordType:"DEFAULT",setCoordType:function(t){this.coordType=t}},s=function(){return function(t){this.eventName=t.eventName,this.host=t.host,this.handler=t.handler,this.listener=t.listener}}(),p={polyline:{color:"#3388ff",weight:3,opacity:.8}},c=52.35987755982988,u=3.141592653589793,l=6378245,g=.006693421622965943,f=function(t,n){var o=2*(n=+n)-100+3*(t=+t)+.2*t*t+.1*n*t+.2*Math.sqrt(Math.abs(n));return o+=2*(20*Math.sin(6*n*u)+20*Math.sin(2*n*u))/3,o+=2*(20*Math.sin(t*u)+40*Math.sin(t/3*u))/3,o+=2*(160*Math.sin(t/12*u)+320*Math.sin(t*u/30))/3},h=function(t,n){var o=300+(n=+n)+2*(t=+t)+.1*n*n+.1*n*t+.1*Math.sqrt(Math.abs(n));return o+=2*(20*Math.sin(6*n*u)+20*Math.sin(2*n*u))/3,o+=2*(20*Math.sin(n*u)+40*Math.sin(n/3*u))/3,o+=2*(150*Math.sin(n/12*u)+300*Math.sin(n/30*u))/3},y=function(t,n){var t=+t;return!((n=+n)>73.66&&n<135.05&&t>3.86&&t<53.55)},m={bd09togcj02:function(t,n){var o=(n=+n)-.0065,e=(t=+t)-.006,r=Math.sqrt(o*o+e*e)-2e-5*Math.sin(e*c),i=Math.atan2(e,o)-3e-6*Math.cos(o*c),a=r*Math.cos(i);return[r*Math.sin(i),a]},gcj02tobd09:function(t,n){var t=+t,n=+n,o=Math.sqrt(n*n+t*t)+2e-5*Math.sin(t*c),e=Math.atan2(t,n)+3e-6*Math.cos(n*c),r=o*Math.cos(e)+.0065;return[o*Math.sin(e)+.006,r]},wgs84togcj02:function(t,n){if(y(t=+t,n=+n))return[t,n];var o=f(t-35,n-105),e=h(t-35,n-105),r=t/180*u,i=Math.sin(r);i=1-g*i*i;var a=Math.sqrt(i);return[t+(o=180*o/(l*(1-g)/(i*a)*u)),n+(e=180*e/(l/a*Math.cos(r)*u))]},gcj02towgs84:function(t,n){if(y(t=+t,n=+n))return[t,n];var o=f(t-35,n-105),e=h(t-35,n-105),r=t/180*u,i=Math.sin(r);i=1-g*i*i;var a=Math.sqrt(i);return[2*t-(t+(o=180*o/(l*(1-g)/(i*a)*u))),2*n-(n+(e=180*e/(l/a*Math.cos(r)*u)))]}},M={log:function(t){t instanceof Error?console.error(t):a.DEBUG&&console.log("["+a.name+"] ",t)},getBound:function(t){var n=t[0][0],o=t[0][1],e=n,r=o;return t.map(function(t){t[0]<n?n=t[0]:t[0]>e&&(e=t[0]),t[1]<o?o=t[1]:t[1]>r&&(r=t[1])}),[[n,o],[e,r]]},objectAssign:function(t,n){if(Object.assign)Object.assign(t,n);else for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o]);return t},g2b:function(t){return t[0]instanceof Array?t.map(function(t){return m.gcj02tobd09(t[0],t[1])}):m.gcj02tobd09(t[0],t[1])},b2g:function(t){return t[0]instanceof Array?t.map(function(t){return m.bd09togcj02(t[0],t[1])}):m.bd09togcj02(t[0],t[1])},w2g:function(t){return t[0]instanceof Array?t.map(function(t){return m.wgs84togcj02(t[0],t[1])}):m.wgs84togcj02(t[0],t[1])},g2w:function(t){return t[0]instanceof Array?t.map(function(t){return m.gcj02towgs84(t[0],t[1])}):m.gcj02towgs84(t[0],t[1])},w2b:function(t){if(!(t[0]instanceof Array)){var n=m.wgs84togcj02(t[0],t[1]);return m.gcj02tobd09(n[0],n[1])}return t.map(function(t){return m.wgs84togcj02(t[0],t[1])}).map(function(t){return m.gcj02tobd09(t[0],t[1])})},b2w:function(t){if(!(t[0]instanceof Array)){var n=m.bd09togcj02(t[0],t[1]);return m.gcj02towgs84(n[0],n[1])}return t.map(function(t){return m.bd09togcj02(t[0],t[1])}).map(function(t){return m.gcj02towgs84(t[0],t[1])})},locate:function(t,n){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(n){t&&t(n.coords.latitude,n.coords.longitude)},function(t){n&&n(t)}):n&&n(new Error("Geolocation is not supported by your browser"))}},d=function(){function o(t){this.MAP_TYPE={HYBRID:"HYBRID",NORMAL:"NORMAL",SATELLITE:"SATELLITE"},this._type={map:"AMAP",type:this.MAP_TYPE.NORMAL},this._original=new AMap.Map(t.container,{zoom:t.zoom,center:t.center.slice().reverse()})}return o.prototype.addLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)t[n]._original.setMap(this._original);else t._original.setMap(this._original)},o.prototype.removeLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)t[n]._original.setMap(null);else t._original.setMap(null)},o.prototype.clearLayers=function(){this._original.clearMap()},o.prototype.setZoom=function(t){this._original.setZoom(t)},o.prototype.getZoom=function(){return this._original.getZoom()},o.prototype.zoomIn=function(){this._original.zoomIn()},o.prototype.zoomOut=function(){this._original.zoomOut()},o.prototype.fitView=function(t,n){var o=this,e=M.getBound(t);this._boundMarkers?e.map(function(t,n,e){o._boundMarkers[n].setPosition([t[1],t[0]])}):(this._boundIcon=new AMap.Icon({size:new AMap.Size(0,0)}),this._boundMarkers=e.map(function(t){return new AMap.Marker({map:o._original,icon:o._boundIcon,position:[t[1],t[0]]})})),this._original.setFitView(this._boundMarkers),this._original.remove(this._boundMarkers)},o.prototype.setCenter=function(t){this._original.setCenter(new AMap.LngLat(t[1],t[0]))},o.prototype.getCenter=function(){var t=this._original.getCenter();return[t.lat,t.lng]},o.prototype.panTo=function(t){this._original.panTo(t.slice().reverse())},o.prototype.setMapType=function(t){var n=this.MAP_TYPE;switch(t){case n.HYBRID:this._type.type=n.HYBRID,this._original.setLayers([new AMap.TileLayer.Satellite,new AMap.TileLayer.RoadNet]);break;case n.NORMAL:this._type.type=n.NORMAL,this._original.setLayers([new AMap.TileLayer]);break;case n.SATELLITE:this._type.type=n.SATELLITE,this._original.setLayers([new AMap.TileLayer.Satellite]);break;case n.TERRAIN:}return this},o=t([n],o)}(),_=function(){function o(t,n){var o=this.formatOpt(n,t);this._original=new AMap.Marker(o)}return o.prototype.formatOpt=function(t,n){void 0===t&&(t={});var o={map:null,position:[n[1],n[0]],icon:t.icon?t.icon._original:null,raiseOnDrag:!t.raiseOnDrag||t.raiseOnDrag,crossOnDrag:!t.crossOnDrag||t.crossOnDrag,draggable:t.draggable};return t.icon&&t.icon.anchor&&(o.offset=new AMap.Pixel(-t.icon.anchor[0],-t.icon.anchor[1])),o},o.prototype.setLatLng=function(t){return this._original.setPosition(t.slice().reverse()),this},o.prototype.getLatLng=function(){var t=this._original.getPosition();return[t.lat,t.lng]},o=t([n],o)}(),v=function(){function o(t,n){var o=t.map(function(t){return[t[1],t[0]]}),e=this.formatOpt(n,o);this._original=new AMap.Polyline(e)}return o.prototype.formatOpt=function(t,n){return void 0===t&&(t={}),M.objectAssign(p.polyline,t),{path:n,strokeColor:p.polyline.color,strokeWeight:p.polyline.weight,strokeOpacity:p.polyline.opacity}},o.prototype.setPath=function(t){var n=t.map(function(t){return[t[1],t[0]]});this._original.setPath(n)},o.prototype.getPath=function(){return(this._original.getPath()||[]).map(function(t){return[t.lat,t.lng]})},o=t([n],o)}(),A=function(){function t(t){var n=this.formatOpt(t);this._original=new AMap.Icon(n),this.anchor=t.anchor}return t.prototype.formatOpt=function(t){void 0===t&&(t={});var n=t.url,o=t.size?new AMap.Size(t.size[0],t.size[1]):null;return{image:n,size:o,imageSize:o}},t.prototype.setImageUrl=function(t){},t.prototype.setSize=function(t){},t.prototype.setAnchor=function(t){},t.prototype.getImageUrl=function(){return""},t.prototype.getAnchor=function(){return[]},t.prototype.getSize=function(){return[]},t}(),w=function(){function t(){this.Util={formatEvent:function(t){void 0===t&&(t={});var n;return t.lnglat&&(n=[t.lnglat.lat,t.lnglat.lng]),{type:t.type.replace(/^on/g,""),target:this,e:t,p:n,pixel:JSON.parse(JSON.stringify(t.pixel))}}}}return t.prototype.Map=function(t){return new d(t)},t.prototype.Marker=function(t,n){return new _(t,n)},t.prototype.Polyline=function(t,n){return new v(t,n)},t.prototype.Icon=function(t){return new A(t)},t.prototype.load=function(t,n,o){if(window.AMap)n&&n();else{var e="map_init_"+Math.random().toString(16).substr(2),r=document.body,i=document.createElement("SCRIPT"),a="https://webapi.amap.com/maps?v=1.3&key="+t+"&callback="+e;i.setAttribute("src",a),i.setAttribute("defer",""),i.setAttribute("async",""),r.appendChild(i),window[e]=function(){n&&n(),delete window[e]}}},t}(),L=function(){function n(t){var n=t.center?e(t.center):[0,0],o=new BMap.Point(n[1],n[0]);this._original=new BMap.Map(t.container),this._original.centerAndZoom(o,t.zoom||15),this._original.enableScrollWheelZoom(),this.MAP_TYPE={HYBRID:"HYBRID",NORMAL:"NORMAL",SATELLITE:"SATELLITE"},this._type={map:"BMAP",type:this.MAP_TYPE.NORMAL}}return n.prototype.addLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)this._original.addOverlay(t[n]._original);else this._original.addOverlay(t._original)},n.prototype.removeLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)this._original.removeOverlay(t[n]._original);else this._original.removeOverlay(t._original)},n.prototype.clearLayers=function(){this._original.clearOverlays()},n.prototype.setZoom=function(t){this._original.setZoom(t)},n.prototype.getZoom=function(){return this._original.getZoom()},n.prototype.zoomIn=function(){this._original.zoomIn()},n.prototype.zoomOut=function(){this._original.zoomOut()},n.prototype.fitView=function(t,n){var o=t.map(function(t){return{lat:t[0],lng:t[1]}});this._original.setViewport(o)},n.prototype.setCenter=function(t){t=e(t),this._original.setCenter(new BMap.Point(t[1],t[0]))},n.prototype.getCenter=function(){var t=this._original.getCenter();return[t.lat,t.lng]},n.prototype.panTo=function(t){this._original.panTo(new BMap.Point(t[1],t[0]))},n.prototype.setMapType=function(t){var n=this.MAP_TYPE;switch(t){case n.HYBRID:this._original.setMapType(BMAP_HYBRID_MAP),this._type.type=n.HYBRID;break;case n.NORMAL:this._original.setMapType(BMAP_NORMAL_MAP),this._type.type=n.NORMAL;break;case n.SATELLITE:this._original.setMapType(BMAP_SATELLITE_MAP),this._type.type=n.SATELLITE;break;case n.TERRAIN:}return this},n=t([o],n)}(),T=function(){function n(t,n){t=e(t);var o=new BMap.Point(t[1],t[0]),r=this.formatOpt(n);this._original=new BMap.Marker(o,r)}return n.prototype.formatOpt=function(t){return void 0===t&&(t={}),{icon:t.icon?t.icon._original:null,raiseOnDrag:!t.raiseOnDrag||t.raiseOnDrag,crossOnDrag:!t.crossOnDrag||t.crossOnDrag,enableDragging:t.draggable}},n.prototype.setLatLng=function(t){t=e(t);var n=new BMap.Point(t[1],t[0]);return this._original.setPosition(n),this},n.prototype.getLatLng=function(){var t=this._original.getPosition();return e([t.lat,t.lng],"output")},n=t([o],n)}(),b=function(){function n(t,n){var o=e(t).map(function(t){return new BMap.Point(t[1],t[0])});this._original=new BMap.Polyline(o,this.formatOpt(n))}return n.prototype.formatOpt=function(t){return void 0===t&&(t={}),M.objectAssign(p.polyline,t),{strokeColor:p.polyline.color,strokeWeight:p.polyline.weight,strokeOpacity:p.polyline.opacity}},n.prototype.setPath=function(t){var n=e(t).map(function(t){return new BMap.Point(t[1],t[0])});this._original.setPath(n)},n.prototype.getPath=function(){return e((this._original.getPath()||[]).map(function(t){return[t.lat,t.lng]}),"output")},n=t([o],n)}(),O=function(){function t(t){var n=this.formatOpt(t);this._original=new BMap.Icon(n.url,n.size,n)}return t.prototype.formatOpt=function(t){return void 0===t&&(t={}),{anchor:t.anchor?new BMap.Size(t.anchor[0],t.anchor[1]):null,url:t.url,size:t.size?new BMap.Size(t.size[0],t.size[1]):null}},t.prototype.setImageUrl=function(t){},t.prototype.setSize=function(t){},t.prototype.setAnchor=function(t){},t.prototype.getImageUrl=function(){return""},t.prototype.getAnchor=function(){return[]},t.prototype.getSize=function(){return[]},t}(),P=function(){function t(){this.Util={formatEvent:function(t){void 0===t&&(t={});var n;return t.point&&(n=e([t.point.lat,t.point.lng],"output")),{type:t.type.replace(/^on/g,""),target:this,e:t,p:n,pixel:JSON.parse(JSON.stringify(t.pixel))}}}}return t.prototype.Map=function(t){return new L(t)},t.prototype.Marker=function(t,n){return new T(t,n)},t.prototype.Polyline=function(t,n){return new b(t,n)},t.prototype.Icon=function(t){return new O(t)},t.prototype.load=function(t,n,o){if(window.BMap)n&&n();else{var e="map_init_"+Math.random().toString(16).substr(2),r=document.body,i=document.createElement("SCRIPT"),a="https://api.map.baidu.com/api?v=2.0&ak="+t+"&callback="+e;i.setAttribute("src",a),i.setAttribute("defer",""),i.setAttribute("async",""),r.appendChild(i),window[e]=function(){n&&n(),delete window[e]}}},t}(),I=function(){function n(t){var n=new google.maps.LatLng(t.center[0],t.center[1]),o="string"==typeof t.container?document.getElementById(t.container):t.container;this._original=new google.maps.Map(o,{zoom:t.zoom,center:n,mapTypeControl:!1,fullscreenControl:!1,scaleControl:!1,streetViewControl:!1,zoomControl:!1}),this.MAP_TYPE={HYBRID:"HYBRID",NORMAL:"NORMAL",TERRAIN:"TERRAIN",SATELLITE:"SATELLITE"},this._type={map:"GMAP",type:this.MAP_TYPE.NORMAL}}return n.prototype.addLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)t[n]._original.setMap(this._original);else t._original.setMap(this._original)},n.prototype.removeLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)t[n]._original.setMap(null);else t._original.setMap(null)},n.prototype.clearLayers=function(){this._original.clearOverlays()},n.prototype.setZoom=function(t){this._original.setZoom(t)},n.prototype.getZoom=function(){return this._original.getZoom()},n.prototype.zoomIn=function(){this.setZoom(this.getZoom()+1)},n.prototype.zoomOut=function(){this.setZoom(this.getZoom()-1)},n.prototype.fitView=function(t,n){var o=M.getBound(t).map(function(t){return new google.maps.LatLng(t[0],t[1])}),e=new google.maps.LatLngBounds(o[0],o[1]);this._original.fitBounds(e)},n.prototype.setCenter=function(t){this._original.setCenter({lat:t[0],lng:t[1]})},n.prototype.setMapType=function(t){var n=this.MAP_TYPE;switch(t){case n.HYBRID:this._original.setMapTypeId(google.maps.MapTypeId.HYBRID),this._type.type=n.HYBRID;break;case n.NORMAL:this._original.setMapTypeId(google.maps.MapTypeId.ROADMAP),this._type.type=n.NORMAL;break;case n.SATELLITE:this._original.setMapTypeId(google.maps.MapTypeId.SATELLITE),this._type.type=n.SATELLITE;break;case n.TERRAIN:this._original.setMapTypeId(google.maps.MapTypeId.TERRAIN),this._type.type=n.TERRAIN}return this},n.prototype.getCenter=function(){var t=this._original.getCenter();return[t.lat(),t.lng()]},n.prototype.panTo=function(t){this._original.panTo(new google.maps.LatLng(t[0],t[1]))},n=t([r],n)}(),E=function(){function n(t,n){var o=new google.maps.LatLng(t[0],t[1]),e=this.formatOpt(n,o);this._original=new google.maps.Marker(e)}return n.prototype.formatOpt=function(t,n){return void 0===t&&(t={}),{icon:t.icon?t.icon._original:null,position:n,raiseOnDrag:!t.raiseOnDrag||t.raiseOnDrag,crossOnDrag:!t.crossOnDrag||t.crossOnDrag,draggable:t.draggable}},n.prototype.setLatLng=function(t){var n=new google.maps.LatLng(t[0],t[1]);return this._original.setPosition(n),this},n.prototype.getLatLng=function(){var t=this._original.getPosition();return[t.lat(),t.lng()]},n=t([r],n)}(),R=function(){function n(t,n){var o=t.map(function(t){return new google.maps.LatLng(t[0],t[1])});this._original=new google.maps.Polyline(this.formatOpt(n,o))}return n.prototype.formatOpt=function(t,n){return void 0===t&&(t={}),M.objectAssign(p.polyline,t),{path:n,strokeColor:p.polyline.color,strokeWeight:p.polyline.weight,strokeOpacity:p.polyline.opacity}},n.prototype.setPath=function(t){var n=t.map(function(t){return new google.maps.LatLng(t[0],t[1])});this._original.setPath(n)},n.prototype.getPath=function(){return this._original.getPath().getArray().map(function(t){return[t.lat(),t.lng()]})},n=t([r],n)}(),z=function(){function t(t){var n=this.formatOpt(t);this._original={url:n.url,size:n.size,anchor:n.anchor}}return t.prototype.formatOpt=function(t){return void 0===t&&(t={}),{anchor:t.anchor?new google.maps.Point(t.anchor[0],t.anchor[1]):null,url:t.url,size:t.size?new google.maps.Size(t.size[0],t.size[1]):null}},t.prototype.setImageUrl=function(t){},t.prototype.setSize=function(t){},t.prototype.setAnchor=function(t){},t.prototype.getImageUrl=function(){return""},t.prototype.getAnchor=function(){return[]},t.prototype.getSize=function(){return[]},t}(),D=function(){function t(){this.Util={formatEvent:function(t){void 0===t&&(t={});var n;return t.latLng&&(n=[t.latLng.lat(),t.latLng.lng()]),{type:t.ta&&t.ta.type,target:this,e:t,p:n,pixel:JSON.parse(JSON.stringify(t.pixel))}}}}return t.prototype.Map=function(t){return new I(t)},t.prototype.Marker=function(t,n){return new E(t,n)},t.prototype.Polyline=function(t,n){return new R(t,n)},t.prototype.Icon=function(t){return new z(t)},t.prototype.load=function(t,n,o){if(window.google&&window.google.maps)n&&n();else{var e="map_init_"+Math.random().toString(16).substr(2),r=document.body,i=document.createElement("SCRIPT"),a="https://maps.googleapis.com/maps/api/js?key="+t+"&callback="+e;i.setAttribute("src",a),i.setAttribute("defer",""),i.setAttribute("async",""),r.appendChild(i),window[e]=function(){n&&n(),delete window[e]}}},t}();return function(){function n(t){var n=this;t&&this.use(t),this.Util={formatEvent:function(t){return n.factory.Util.formatEvent.call(this,t)}},M.objectAssign(this.Util,M),this._v=a}return n.prototype.use=function(t,n){if("string"==typeof t)switch(t){case"BMAP":this.factory=new P;break;case"GMAP":this.factory=new D;break;case"AMAP":this.factory=new w}else this.factory=t;return this},n.prototype.Map=function(t){var n=t[0];return this.factory.Map(n)},n.prototype.Marker=function(t){var n=t[0],o=t[1];return this.factory.Marker(n,o)},n.prototype.Polyline=function(t){var n=t[0],o=t[1];return this.factory.Polyline(n,o)},n.prototype.Icon=function(t){var n=t[0];return this.factory.Icon(n)},n.prototype.loadMap=function(t,n,o){this.factory.load(t,n,o)},t([i()],n.prototype,"Map",null),t([i()],n.prototype,"Marker",null),t([i()],n.prototype,"Polyline",null),t([i()],n.prototype,"Icon",null),n}()});
