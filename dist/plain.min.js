/**
 * This file is created by xingzheFE.
 * https://github.com/XingzheFE/
 * Fri Jul 14 2017 18:12:27 GMT+0800 (CST)
 */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Plain=n()}(this,function(){"use strict";function t(t,n){function o(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}function n(t,n,o,e){var i,r=arguments.length,a=r<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,o):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,o,e);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(n,o,a):i(n,o))||a);return r>3&&a&&Object.defineProperty(n,o,a),a}function o(t){t.prototype.on=function(t,n){var o=n.bind(this),e=this._original.on(t,o);return new u({eventName:t,host:this,listener:e,handler:o})},t.prototype.off=function(t){this._original.off(t.eventName,t.handler)}}function e(t){t.prototype.on=function(t,n){var o=n.bind(this),e=this._original.addEventListener(t,o);return new u({eventName:t,host:this,listener:e,handler:o})},t.prototype.off=function(t){this._original.removeEventListener(t.eventName,t.handler)}}function i(t,n){if("output"===n){if("DEFAULT"===c.coordType)return t;switch(c.coordType){case"DEFAULT":return t;case"GCJ02":return b.b2g(t);case"BD09":return t;case"WGS84":return b.b2w(t)}}else{if("DEFAULT"===c.coordType)return t;switch(c.coordType){case"DEFAULT":return t;case"GCJ02":return b.g2b(t);case"BD09":return t;case"WGS84":return b.w2b(t)}}}function r(t){void 0===t&&(t=!1);var n=window.BMap;if(n){var o=function(t){this._box=document.createElement("div"),this._box.setAttribute("data-plain-style",""),this._opt=t,this._latlng=this._latlng||new n.Point(116.399,39.91),this._content=this._content||'<h1 style="background:#fff;">custom Layer</h1>',this.createContent()};return o.prototype=new n.Overlay,o.prototype.initialize=function(t){return this._map=t,this.createContent(),t.getPanes().markerPane.appendChild(this._box),this._box},o.prototype.createContent=function(){var n=this;if(this._box.innerHTML="",t){if(this._box.classList.add("popup-box"),this._contentBox=document.createElement("div"),this._box.innerHTML='<div class="popup-arrow"></div>',this._contentBox.classList.add("popup-content"),"string"==typeof this._content?this._contentBox.innerHTML=this._content:this._contentBox.appendChild(this._content),this._box.appendChild(this._contentBox),this._opt&&!0===this._opt.closeBtn){var o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("popup-close"),o.innerHTML="×",o.addEventListener("click",function(t){n.hide()}),this._box.appendChild(o)}}else"string"==typeof this._content?this._box.innerHTML=this._content:this._box.appendChild(this._content)},o.prototype.draw=function(){if(this._map){var t=this._map.pointToOverlayPixel(this._latlng);this._box.style.position="absolute",this._box.style.left=~~t.x+"px",this._box.style.top=~~t.y+"px"}},o.prototype.remove=function(){this._box.parentNode.removeChild(this._box),this._content=null,this._contentBox=null,this._box=null},o.prototype.setContent=function(n){this._content=n;var o=t?this._contentBox:this._box;return n instanceof Element?(o.innerHTML="",o.appendChild(n)):o.innerHTML=n,this},o.prototype.setLatLng=function(t){return void 0===t&&(t=[0,0]),this._latlng=new n.Point(t[1],t[0]),this.draw(),this},o.prototype.mount=function(t){return t._original.addOverlay(this),this},o.prototype.unmount=function(){return this._map.removeOverlay(this),this},o.prototype.show=function(){return this._box&&(this._box.style.display="block"),this},o.prototype.hide=function(){return this._box&&(this._box.style.display="none"),this},o}}function a(t){t.prototype.on=function(t,n){var o=n.bind(this),e=this._original.addListener(t,o);return new u({eventName:t,host:this,listener:e,handler:o})},t.prototype.off=function(t){google.maps.event.removeListener(t.listener)}}function s(t){void 0===t&&(t=!1);var n=window.google;if(n&&n.maps){var o=function(t){this._opt=t,this.init()};return o.prototype=new n.maps.OverlayView,o.prototype.init=function(){this._box=document.createElement("div"),this._box.setAttribute("data-plain-style",""),this._latlng=this._latlng||new n.maps.LatLng(0,0),this._content=this._content||'<h1 style="background:#fff;">custom Layer</h1>',this.createContent()},o.prototype.createContent=function(){var n=this;if(this._box.innerHTML="",t){if(this._box.classList.add("popup-box"),this._contentBox=document.createElement("div"),this._box.innerHTML='<div class="popup-arrow"></div>',this._contentBox.classList.add("popup-content"),"string"==typeof this._content?this._contentBox.innerHTML=this._content:this._contentBox.appendChild(this._content),this._box.appendChild(this._contentBox),this._opt&&!0===this._opt.closeBtn){var o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("popup-close"),o.innerHTML="×",o.addEventListener("click",function(t){n.hide()}),this._box.appendChild(o)}}else"string"==typeof this._content?this._box.innerHTML=this._content:this._box.appendChild(this._content)},o.prototype.onAdd=function(){var t=this.getPanes();this.createContent(),t.overlayImage.appendChild(this._box)},o.prototype.draw=function(){var t=this.getProjection();if(t){var n=t.fromLatLngToDivPixel(this._latlng);this._box.style.position="absolute",this._box.style.left=~~n.x+"px",this._box.style.top=~~n.y+"px"}},o.prototype.remove=function(){this._box.parentNode.removeChild(this._box),this._content=null,this._contentBox=null,this._box=null},o.prototype.setContent=function(n){this._content=n;var o=t?this._contentBox:this._box;return n instanceof Element?(o.innerHTML="",o.appendChild(n)):o.innerHTML=n,this},o.prototype.setLatLng=function(t){return void 0===t&&(t=[0,0]),this._latlng=new n.maps.LatLng(t[0],t[1]),this.draw(),this},o.prototype.mount=function(t){return this.init(),this.setMap(t._original),this},o.prototype.unmount=function(){return this.setMap(null),this},o.prototype.show=function(){return this._box&&(this._box.style.display="block"),this},o.prototype.hide=function(){return this._box&&(this._box.style.display="none"),this},o}}function p(){return function(t,n,o){var e=o.value;o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var o=e.call(this,t);return o._id=Math.random().toString(16).substr(2),o}}}var c={DEBUG:!0,name:"plain",coordType:"DEFAULT",setCoordType:function(t){this.coordType=t}},u=function(){return function(t){this.eventName=t.eventName,this.host=t.host,this.handler=t.handler,this.listener=t.listener}}(),l={polyline:{color:"#3388ff",weight:3,opacity:.8}},h=52.35987755982988,f=3.141592653589793,g=6378245,y=.006693421622965943,d=function(t,n){var o=2*(n=+n)-100+3*(t=+t)+.2*t*t+.1*n*t+.2*Math.sqrt(Math.abs(n));return o+=2*(20*Math.sin(6*n*f)+20*Math.sin(2*n*f))/3,o+=2*(20*Math.sin(t*f)+40*Math.sin(t/3*f))/3,o+=2*(160*Math.sin(t/12*f)+320*Math.sin(t*f/30))/3},_=function(t,n){var o=300+(n=+n)+2*(t=+t)+.1*n*n+.1*n*t+.1*Math.sqrt(Math.abs(n));return o+=2*(20*Math.sin(6*n*f)+20*Math.sin(2*n*f))/3,o+=2*(20*Math.sin(n*f)+40*Math.sin(n/3*f))/3,o+=2*(150*Math.sin(n/12*f)+300*Math.sin(n/30*f))/3},m=function(t,n){var t=+t;return!((n=+n)>73.66&&n<135.05&&t>3.86&&t<53.55)},M={bd09togcj02:function(t,n){var o=(n=+n)-.0065,e=(t=+t)-.006,i=Math.sqrt(o*o+e*e)-2e-5*Math.sin(e*h),r=Math.atan2(e,o)-3e-6*Math.cos(o*h),a=i*Math.cos(r);return[i*Math.sin(r),a]},gcj02tobd09:function(t,n){var t=+t,n=+n,o=Math.sqrt(n*n+t*t)+2e-5*Math.sin(t*h),e=Math.atan2(t,n)+3e-6*Math.cos(n*h),i=o*Math.cos(e)+.0065;return[o*Math.sin(e)+.006,i]},wgs84togcj02:function(t,n){if(m(t=+t,n=+n))return[t,n];var o=d(t-35,n-105),e=_(t-35,n-105),i=t/180*f,r=Math.sin(i);r=1-y*r*r;var a=Math.sqrt(r);return[t+(o=180*o/(g*(1-y)/(r*a)*f)),n+(e=180*e/(g/a*Math.cos(i)*f))]},gcj02towgs84:function(t,n){if(m(t=+t,n=+n))return[t,n];var o=d(t-35,n-105),e=_(t-35,n-105),i=t/180*f,r=Math.sin(i);r=1-y*r*r;var a=Math.sqrt(r);return[2*t-(t+(o=180*o/(g*(1-y)/(r*a)*f))),2*n-(n+(e=180*e/(g/a*Math.cos(i)*f)))]}},b={log:function(t){t instanceof Error?console.error(t):c.DEBUG&&console.log("["+c.name+"] ",t)},getBound:function(t){var n=t[0][0],o=t[0][1],e=n,i=o;return t.map(function(t){t[0]<n?n=t[0]:t[0]>e&&(e=t[0]),t[1]<o?o=t[1]:t[1]>i&&(i=t[1])}),[[n,o],[e,i]]},objectAssign:function(t,n){if(Object.assign)Object.assign(t,n);else for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o]);return t},g2b:function(t){return t[0]instanceof Array?t.map(function(t){return M.gcj02tobd09(t[0],t[1])}):M.gcj02tobd09(t[0],t[1])},b2g:function(t){return t[0]instanceof Array?t.map(function(t){return M.bd09togcj02(t[0],t[1])}):M.bd09togcj02(t[0],t[1])},w2g:function(t){return t[0]instanceof Array?t.map(function(t){return M.wgs84togcj02(t[0],t[1])}):M.wgs84togcj02(t[0],t[1])},g2w:function(t){return t[0]instanceof Array?t.map(function(t){return M.gcj02towgs84(t[0],t[1])}):M.gcj02towgs84(t[0],t[1])},w2b:function(t){if(!(t[0]instanceof Array)){var n=M.wgs84togcj02(t[0],t[1]);return M.gcj02tobd09(n[0],n[1])}return t.map(function(t){return M.wgs84togcj02(t[0],t[1])}).map(function(t){return M.gcj02tobd09(t[0],t[1])})},b2w:function(t){if(!(t[0]instanceof Array)){var n=M.bd09togcj02(t[0],t[1]);return M.gcj02towgs84(n[0],n[1])}return t.map(function(t){return M.bd09togcj02(t[0],t[1])}).map(function(t){return M.gcj02towgs84(t[0],t[1])})},locate:function(t,n){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(n){t&&t(n.coords.latitude,n.coords.longitude)},function(t){n&&n(t)}):n&&n(new Error("Geolocation is not supported by your browser"))}},v=function(){function t(t){this.MAP_TYPE={HYBRID:"HYBRID",NORMAL:"NORMAL",SATELLITE:"SATELLITE"},this._type={map:"AMAP",type:this.MAP_TYPE.NORMAL},this._original=new AMap.Map(t.container,{zoom:t.zoom,center:t.center.slice().reverse()})}return t.prototype.addLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)t[n]._original.setMap(this._original);else t._original.setMap(this._original)},t.prototype.removeLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)t[n]._original.setMap(null);else t._original.setMap(null)},t.prototype.clearLayers=function(){this._original.clearMap()},t.prototype.setZoom=function(t){this._original.setZoom(t)},t.prototype.getZoom=function(){return this._original.getZoom()},t.prototype.zoomIn=function(){this._original.zoomIn()},t.prototype.zoomOut=function(){this._original.zoomOut()},t.prototype.fitView=function(t,n){var o=this,e=b.getBound(t);this._boundMarkers?e.map(function(t,n,e){o._boundMarkers[n].setPosition([t[1],t[0]])}):(this._boundIcon=new AMap.Icon({size:new AMap.Size(0,0)}),this._boundMarkers=e.map(function(t){return new AMap.Marker({map:o._original,icon:o._boundIcon,position:[t[1],t[0]]})})),this._original.setFitView(this._boundMarkers),this._original.remove(this._boundMarkers)},t.prototype.setCenter=function(t){this._original.setCenter(new AMap.LngLat(t[1],t[0]))},t.prototype.getCenter=function(){var t=this._original.getCenter();return[t.lat,t.lng]},t.prototype.panTo=function(t){this._original.panTo(t.slice().reverse())},t.prototype.setMapType=function(t){var n=this.MAP_TYPE;switch(t){case n.HYBRID:this._type.type=n.HYBRID,this._original.setLayers([new AMap.TileLayer.Satellite,new AMap.TileLayer.RoadNet]);break;case n.NORMAL:this._type.type=n.NORMAL,this._original.setLayers([new AMap.TileLayer]);break;case n.SATELLITE:this._type.type=n.SATELLITE,this._original.setLayers([new AMap.TileLayer.Satellite]);break;case n.TERRAIN:}return this},t=n([o],t)}(),L=function(){function t(t){this._opt=t,this._original=new AMap.Marker({position:[0,0],content:"custom Layer"})}return t.prototype.setLatLng=function(t){return this._original&&this._original.setPosition(t.slice().reverse()),this},t.prototype.setContent=function(t){return void 0===t&&(t=""),this._original.setContent(t),this},t.prototype.mount=function(t){return this._original.setMap(t._original),this},t.prototype.unmount=function(){return this._original.setMap(null),this},t.prototype.show=function(){return this._original.show(),this},t.prototype.hide=function(){return this._original.hide(),this},t.prototype.remove=function(){this._box=null,this._contentBox=null,this._original=null},t}(),w=function(n){function o(t){var o=this;if(n.call(this,t),this._box=document.createElement("div"),this._box.classList.add("popup-box"),this._box.setAttribute("data-plain-style",""),this._box.setAttribute("style","position: absolute;transform:translate3d(-50%, -50%, 0);left: 10px;"),this._contentBox=document.createElement("div"),this._box.innerHTML='<div class="popup-arrow"></div',this._contentBox.classList.add("popup-content"),this._box.appendChild(this._contentBox),this._original=new AMap.Marker({position:[0,0],content:this._box}),t&&!0===t.closeBtn){var e=document.createElement("button");e.setAttribute("type","button"),e.classList.add("popup-close"),e.innerHTML="×",e.addEventListener("click",function(t){o.hide()}),this._box.appendChild(e)}}return t(o,n),o.prototype.createContent=function(t){"string"==typeof t?this._contentBox.innerHTML=t:(this._contentBox.innerHTML="",this._contentBox.appendChild(t))},o.prototype.setContent=function(t){return this.createContent(t),this},o}(L),A=function(){function t(t,n){var o=this.formatOpt(n,t);this._original=new AMap.Marker(o)}return t.prototype.formatOpt=function(t,n){void 0===t&&(t={});var o={map:null,position:[n[1],n[0]],icon:t.icon?t.icon._original:null,raiseOnDrag:!t.raiseOnDrag||t.raiseOnDrag,crossOnDrag:!t.crossOnDrag||t.crossOnDrag,draggable:t.draggable};return t.icon&&t.icon.anchor&&(o.offset=new AMap.Pixel(-t.icon.anchor[0],-t.icon.anchor[1])),o},t.prototype.setLatLng=function(t){return this._original.setPosition(t.slice().reverse()),this},t.prototype.getLatLng=function(){var t=this._original.getPosition();return[t.lat,t.lng]},t=n([o],t)}(),x=function(){function t(t,n){var o=t.map(function(t){return[t[1],t[0]]}),e=this.formatOpt(n,o);this._original=new AMap.Polyline(e)}return t.prototype.formatOpt=function(t,n){return void 0===t&&(t={}),b.objectAssign(l.polyline,t),{path:n,strokeColor:l.polyline.color,strokeWeight:l.polyline.weight,strokeOpacity:l.polyline.opacity}},t.prototype.setPath=function(t){var n=t.map(function(t){return[t[1],t[0]]});this._original.setPath(n)},t.prototype.getPath=function(){return(this._original.getPath()||[]).map(function(t){return[t.lat,t.lng]})},t=n([o],t)}(),T=function(){function t(t){var n=this.formatOpt(t);this._original=new AMap.Icon(n),this.anchor=t.anchor}return t.prototype.formatOpt=function(t){void 0===t&&(t={});var n=t.url,o=t.size?new AMap.Size(t.size[0],t.size[1]):null;return{image:n,size:o,imageSize:o}},t.prototype.setImageUrl=function(t){},t.prototype.setSize=function(t){},t.prototype.setAnchor=function(t){},t.prototype.getImageUrl=function(){return""},t.prototype.getAnchor=function(){return[]},t.prototype.getSize=function(){return[]},t}(),P=function(){function t(){this.Util={formatEvent:function(t){void 0===t&&(t={});var n;return t.lnglat&&(n=[t.lnglat.lat,t.lnglat.lng]),{type:t.type.replace(/^on/g,""),target:this,e:t,p:n,pixel:JSON.parse(JSON.stringify(t.pixel))}}}}return t.prototype.Map=function(t){return new v(t)},t.prototype.Layer=function(t){return new L(t)},t.prototype.Popup=function(t){return new w(t)},t.prototype.Marker=function(t,n){return new A(t,n)},t.prototype.Polyline=function(t,n){return new x(t,n)},t.prototype.Icon=function(t){return new T(t)},t.prototype.load=function(t,n,o){if(window.AMap)n&&n();else{var e="map_init_"+Math.random().toString(16).substr(2),i=document.body,r=document.createElement("SCRIPT"),a="https://webapi.amap.com/maps?v=1.3&key="+t+"&callback="+e;r.setAttribute("src",a),r.setAttribute("defer",""),r.setAttribute("async",""),i.appendChild(r),window[e]=function(){n&&n(),delete window[e]}}},t}(),O=function(){function t(t){var n=t.center?i(t.center):[0,0],o=new BMap.Point(n[1],n[0]);this._original=new BMap.Map(t.container),this._original.centerAndZoom(o,t.zoom||15),this._original.enableScrollWheelZoom(),this.MAP_TYPE={HYBRID:"HYBRID",NORMAL:"NORMAL",SATELLITE:"SATELLITE"},this._type={map:"BMAP",type:this.MAP_TYPE.NORMAL}}return t.prototype.addLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)this._original.addOverlay(t[n]._original);else this._original.addOverlay(t._original)},t.prototype.removeLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)this._original.removeOverlay(t[n]._original);else this._original.removeOverlay(t._original)},t.prototype.clearLayers=function(){this._original.clearOverlays()},t.prototype.setZoom=function(t){this._original.setZoom(t)},t.prototype.getZoom=function(){return this._original.getZoom()},t.prototype.zoomIn=function(){this._original.zoomIn()},t.prototype.zoomOut=function(){this._original.zoomOut()},t.prototype.fitView=function(t,n){var o=t.map(function(t){return{lat:t[0],lng:t[1]}});this._original.setViewport(o)},t.prototype.setCenter=function(t){t=i(t),this._original.setCenter(new BMap.Point(t[1],t[0]))},t.prototype.getCenter=function(){var t=this._original.getCenter();return[t.lat,t.lng]},t.prototype.panTo=function(t){this._original.panTo(new BMap.Point(t[1],t[0]))},t.prototype.setMapType=function(t){var n=this.MAP_TYPE;switch(t){case n.HYBRID:this._original.setMapType(BMAP_HYBRID_MAP),this._type.type=n.HYBRID;break;case n.NORMAL:this._original.setMapType(BMAP_NORMAL_MAP),this._type.type=n.NORMAL;break;case n.SATELLITE:this._original.setMapType(BMAP_SATELLITE_MAP),this._type.type=n.SATELLITE;break;case n.TERRAIN:}return this},t=n([e],t)}(),E=function(){function t(t,n){t=i(t);var o=new BMap.Point(t[1],t[0]),e=this.formatOpt(n);this._original=new BMap.Marker(o,e)}return t.prototype.formatOpt=function(t){return void 0===t&&(t={}),{icon:t.icon?t.icon._original:null,raiseOnDrag:!t.raiseOnDrag||t.raiseOnDrag,crossOnDrag:!t.crossOnDrag||t.crossOnDrag,enableDragging:t.draggable}},t.prototype.setLatLng=function(t){t=i(t);var n=new BMap.Point(t[1],t[0]);return this._original.setPosition(n),this},t.prototype.getLatLng=function(){var t=this._original.getPosition();return i([t.lat,t.lng],"output")},t=n([e],t)}(),C=function(){function t(t,n){var o=i(t).map(function(t){return new BMap.Point(t[1],t[0])});this._original=new BMap.Polyline(o,this.formatOpt(n))}return t.prototype.formatOpt=function(t){return void 0===t&&(t={}),b.objectAssign(l.polyline,t),{strokeColor:l.polyline.color,strokeWeight:l.polyline.weight,strokeOpacity:l.polyline.opacity}},t.prototype.setPath=function(t){var n=i(t).map(function(t){return new BMap.Point(t[1],t[0])});this._original.setPath(n)},t.prototype.getPath=function(){return i((this._original.getPath()||[]).map(function(t){return[t.lat,t.lng]}),"output")},t=n([e],t)}(),I=function(){function t(t){var n=this.formatOpt(t);this._original=new BMap.Icon(n.url,n.size,n)}return t.prototype.formatOpt=function(t){return void 0===t&&(t={}),{anchor:t.anchor?new BMap.Size(t.anchor[0],t.anchor[1]):null,url:t.url,size:t.size?new BMap.Size(t.size[0],t.size[1]):null}},t.prototype.setImageUrl=function(t){},t.prototype.setSize=function(t){},t.prototype.setAnchor=function(t){},t.prototype.getImageUrl=function(){return""},t.prototype.getAnchor=function(){return[]},t.prototype.getSize=function(){return[]},t}(),B=function(){function t(){this.LayerConstructor=r(),this.PopupConstructor=r(!0),this.Util={formatEvent:function(t){void 0===t&&(t={});var n;return t.point&&(n=i([t.point.lat,t.point.lng],"output")),{type:t.type.replace(/^on/g,""),target:this,e:t,p:n,pixel:JSON.parse(JSON.stringify(t.pixel))}}}}return t.prototype.Map=function(t){return new O(t)},t.prototype.Layer=function(t){return new this.LayerConstructor(t)},t.prototype.Popup=function(t){return new this.PopupConstructor(t)},t.prototype.Marker=function(t,n){return new E(t,n)},t.prototype.Polyline=function(t,n){return new C(t,n)},t.prototype.Icon=function(t){return new I(t)},t.prototype.load=function(t,n,o){if(window.BMap)n&&n();else{var e=this,i="map_init_"+Math.random().toString(16).substr(2),a=document.body,s=document.createElement("SCRIPT"),p="https://api.map.baidu.com/api?v=2.0&ak="+t+"&callback="+i;s.setAttribute("src",p),s.setAttribute("defer",""),s.setAttribute("async",""),a.appendChild(s),window[i]=function(){n&&n(),e.LayerConstructor=r(),e.PopupConstructor=r(!0),delete window[i]}}},t}(),k=function(){function t(t){var n=new google.maps.LatLng(t.center[0],t.center[1]),o="string"==typeof t.container?document.getElementById(t.container):t.container;this._original=new google.maps.Map(o,{zoom:t.zoom,center:n,mapTypeControl:!1,fullscreenControl:!1,scaleControl:!1,streetViewControl:!1,zoomControl:!1}),this.MAP_TYPE={HYBRID:"HYBRID",NORMAL:"NORMAL",TERRAIN:"TERRAIN",SATELLITE:"SATELLITE"},this._type={map:"GMAP",type:this.MAP_TYPE.NORMAL}}return t.prototype.addLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)t[n]._original.setMap(this._original);else t._original.setMap(this._original)},t.prototype.removeLayer=function(t){if(t instanceof Array)for(var n=0;n<t.length;n++)t[n]._original.setMap(null);else t._original.setMap(null)},t.prototype.clearLayers=function(){this._original.clearOverlays()},t.prototype.setZoom=function(t){this._original.setZoom(t)},t.prototype.getZoom=function(){return this._original.getZoom()},t.prototype.zoomIn=function(){this.setZoom(this.getZoom()+1)},t.prototype.zoomOut=function(){this.setZoom(this.getZoom()-1)},t.prototype.fitView=function(t,n){var o=b.getBound(t).map(function(t){return new google.maps.LatLng(t[0],t[1])}),e=new google.maps.LatLngBounds(o[0],o[1]);this._original.fitBounds(e)},t.prototype.setCenter=function(t){this._original.setCenter({lat:t[0],lng:t[1]})},t.prototype.setMapType=function(t){var n=this.MAP_TYPE;switch(t){case n.HYBRID:this._original.setMapTypeId(google.maps.MapTypeId.HYBRID),this._type.type=n.HYBRID;break;case n.NORMAL:this._original.setMapTypeId(google.maps.MapTypeId.ROADMAP),this._type.type=n.NORMAL;break;case n.SATELLITE:this._original.setMapTypeId(google.maps.MapTypeId.SATELLITE),this._type.type=n.SATELLITE;break;case n.TERRAIN:this._original.setMapTypeId(google.maps.MapTypeId.TERRAIN),this._type.type=n.TERRAIN}return this},t.prototype.getCenter=function(){var t=this._original.getCenter();return[t.lat(),t.lng()]},t.prototype.panTo=function(t){this._original.panTo(new google.maps.LatLng(t[0],t[1]))},t=n([a],t)}(),R=function(){function t(t,n){var o=new google.maps.LatLng(t[0],t[1]),e=this.formatOpt(n,o);this._original=new google.maps.Marker(e)}return t.prototype.formatOpt=function(t,n){return void 0===t&&(t={}),{icon:t.icon?t.icon._original:null,position:n,raiseOnDrag:!t.raiseOnDrag||t.raiseOnDrag,crossOnDrag:!t.crossOnDrag||t.crossOnDrag,draggable:t.draggable}},t.prototype.setLatLng=function(t){var n=new google.maps.LatLng(t[0],t[1]);return this._original.setPosition(n),this},t.prototype.getLatLng=function(){var t=this._original.getPosition();return[t.lat(),t.lng()]},t=n([a],t)}(),z=function(){function t(t,n){var o=t.map(function(t){return new google.maps.LatLng(t[0],t[1])});this._original=new google.maps.Polyline(this.formatOpt(n,o))}return t.prototype.formatOpt=function(t,n){return void 0===t&&(t={}),b.objectAssign(l.polyline,t),{path:n,strokeColor:l.polyline.color,strokeWeight:l.polyline.weight,strokeOpacity:l.polyline.opacity}},t.prototype.setPath=function(t){var n=t.map(function(t){return new google.maps.LatLng(t[0],t[1])});this._original.setPath(n)},t.prototype.getPath=function(){return this._original.getPath().getArray().map(function(t){return[t.lat(),t.lng()]})},t=n([a],t)}(),D=function(){function t(t){var n=this.formatOpt(t);this._original={url:n.url,size:n.size,anchor:n.anchor}}return t.prototype.formatOpt=function(t){return void 0===t&&(t={}),{anchor:t.anchor?new google.maps.Point(t.anchor[0],t.anchor[1]):null,url:t.url,size:t.size?new google.maps.Size(t.size[0],t.size[1]):null}},t.prototype.setImageUrl=function(t){},t.prototype.setSize=function(t){},t.prototype.setAnchor=function(t){},t.prototype.getImageUrl=function(){return""},t.prototype.getAnchor=function(){return[]},t.prototype.getSize=function(){return[]},t}(),S=function(){function t(){this.LayerConstructor=s(),this.PopupConstructor=s(!0),this.Util={formatEvent:function(t){void 0===t&&(t={});var n;return t.latLng&&(n=[t.latLng.lat(),t.latLng.lng()]),{type:t.ta&&t.ta.type,target:this,e:t,p:n,pixel:JSON.parse(JSON.stringify(t.pixel))}}}}return t.prototype.Map=function(t){return new k(t)},t.prototype.Layer=function(t){return new this.LayerConstructor(t)},t.prototype.Popup=function(t){return new this.PopupConstructor(t)},t.prototype.Marker=function(t,n){return new R(t,n)},t.prototype.Polyline=function(t,n){return new z(t,n)},t.prototype.Icon=function(t){return new D(t)},t.prototype.load=function(t,n,o){if(window.google&&window.google.maps)n&&n();else{var e=this,i="map_init_"+Math.random().toString(16).substr(2),r=document.body,a=document.createElement("SCRIPT"),p="https://maps.googleapis.com/maps/api/js?key="+t+"&callback="+i;a.setAttribute("src",p),a.setAttribute("defer",""),a.setAttribute("async",""),r.appendChild(a),window[i]=function(){n&&n(),e.LayerConstructor=s(),e.PopupConstructor=s(!0),delete window[i]}}},t}(),N="\n.popup-box[data-plain-style] {\n    z-index: 9;\n    padding: 0 0 14px 0;\n    cursor: arrow;\n    transform: translate3d(-50%, -100%, 0);\n    translate: transform ease 0;\n    animation: fade-in-data-plain-style linear 0.12s;\n}\n.popup-box[data-plain-style] .popup-content {\n    padding: 0.5rem 1rem;\n    min-height: 2rem;\n    min-width: 4rem;\n    color: #222;\n    box-shadow: 0 3px 12px rgba(0,0,0,0.38);\n    background: #fff;\n    border-radius: 4px;\n}\n.popup-box[data-plain-style] .popup-arrow{\n    position: absolute;\n    left: 50%;\n    bottom: 0;\n    height: 14px;\n    width: 28px;\n    overflow: hidden;\n    transform: translate3d(-50%, 0, 0);\n}\n.popup-box[data-plain-style] .popup-close {\n    position: absolute;\n    display: block;\n    right: 0;\n    top: 0;\n    height: 14px;\n    width: 14px;\n    border: none;\n    color: #666;\n    font-size: 14px;\n    line-height: 14px;\n    cursor: pointer;\n    background: transparent;\n    outline: none;\n}\n.popup-box[data-plain-style] .popup-arrow::after {\n    display: block;\n    content: '';\n    position: absolute;\n    top: -12px;\n    left: 3px;\n    background: #fff;\n    height: 20px;\n    width: 20px;\n    border-radius: 2px;\n    transform: rotate3d(0, 0, 1, 45deg);\n    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.34);\n}\n@keyframes fade-in-data-plain-style {\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;        \n    }\n}\n";return function(){function t(t){var n=this;t&&this.use(t),this.Util={formatEvent:function(t){return n.factory.Util.formatEvent.call(this,t)}},b.objectAssign(this.Util,b),this._v=c;var o=document.createElement("style");o.innerHTML=N,document.head.appendChild(o)}return t.prototype.use=function(t,n){if("string"==typeof t)switch(t){case"BMAP":this.factory=new B;break;case"GMAP":this.factory=new S;break;case"AMAP":this.factory=new P}else this.factory=t;return this},t.prototype.Map=function(t){var n=t[0];return this.factory.Map(n)},t.prototype.Layer=function(t){var n=t[0];return this.factory.Layer(n)},t.prototype.Popup=function(t){var n=t[0];return this.factory.Popup(n)},t.prototype.Marker=function(t){var n=t[0],o=t[1];return this.factory.Marker(n,o)},t.prototype.Polyline=function(t){var n=t[0],o=t[1];return this.factory.Polyline(n,o)},t.prototype.Icon=function(t){var n=t[0];return this.factory.Icon(n)},t.prototype.loadMap=function(t,n,o){this.factory.load(t,n,o)},n([p()],t.prototype,"Map",null),n([p()],t.prototype,"Layer",null),n([p()],t.prototype,"Popup",null),n([p()],t.prototype,"Marker",null),n([p()],t.prototype,"Polyline",null),n([p()],t.prototype,"Icon",null),t}()});
